ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_viridis_d(option = "C") +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_viridis_d(option = "D") +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_viridis_d(option = "E") +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
?scale_fill_viridis_d
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_viridis_d(direction = -1, option = "D") +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(palette = 'Set2') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set3') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set4') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status")
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = T)
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = c(0, 0))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = c(1, 1))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = c(2, 2))
coord_cartesian(expand = 2
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = 2)
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = 2)
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
coord_cartesian(expand = 5)
?coord_cartesian
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(y = c(1, 9))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(y = c(2, 2))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(y = c(10, 10))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(x = c(1, 1), y = c(10, 10))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(x = c(2009, 2018), y = c(10, 10))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(x = c(2006, 2020), y = c(10, 10))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(x = c(2006, 2020), y = c(0, 25))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(x = c(2008, 2020), y = c(0, 25))
dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf'))) %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(y = c(0, 25))
prod <- dat %>%
select(., year) %>%
na.omit(.) %>%
group_by(., year) %>%
summarize(., counts = n()) %>%
ungroup(.) %>%
mutate(., status = if_else(year <=2012, 'MA\nStudent',
if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')),
status = fct_relevel(status,
c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf')))
year_max <- max(prod$counts)
year_max
prod %>%
ggplot(., aes(x = year, y = counts, label = counts)) +
geom_bar(stat = "identity", color = 'black',
fill = 'lightblue', width = 0.1) +
geom_point(aes(shape = status, fill = status), size = 10, color = 'black') +
scale_shape_manual(name = '', values = 21:23) +
geom_text(color = 'white') +
scale_fill_brewer(name = '', palette = 'Set1') +
labs(y = "Count", x = "Year",
title = "Productivity as a function of year and status") +
expand_limits(y = c(0, year_max + 5))
