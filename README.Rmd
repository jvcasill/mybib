---
output: md_document
---

# mybib

Version controlled .bib file for my articles, proceedings, 
presentations, posters, and workshops.

This is a 'clean' version. It only contains UTF-8 chars (i.e. 
no ```tipa```).

This is **NOT** synchronized with my online CV (for the TODO list).

----


```{r, 'timestamp', echo=FALSE}
message(sprintf("Last Updated: %s", Sys.time()))
```

License: Public Domain (CC-0)

I am still testing this. Initial commit is a direct copy of example done by 
[leeper](https://github.com/leeper/references). 


```{r, 'setup', echo=FALSE, results="hide"}
library("knitr")
opts_knit$set(upload.fun = imgur_upload, base.url = NULL)
opts_chunk$set(fig.width=8, fig.height=5, cache=TRUE)
```

Here are some basic statistics on its contents:

```{r, 'data', message=FALSE, warning=FALSE}
library(RefManageR)
library(tidyverse)
library(here)

bib <- suppressWarnings(ReadBib(here("publicationsCVclean.bib"), 
                                check = FALSE))

dat <- bib %>% 
  as.tibble(.) %>% 
  mutate(., year = as.numeric(year))
```



## Citation Types

```{r, 'bibtype', fig.retina=2}
counts <- xtabs(~bibtype, data = bib) %>% as.tibble

counts %>% 
  mutate(., bibtype = fct_reorder(bibtype, n)) %>% 
  ggplot(., aes(x = bibtype, y = n, label = n)) + 
    geom_bar(stat = 'identity', color = 'black', 
             fill = 'lightblue', width = 0.1) + 
    geom_point(pch = 21, size = 10, color = 'black', fill = 'lightgrey') + 
    geom_text() + 
    labs(y = "Count", x = "Citation Type") + 
    coord_flip() + 
    theme_test()
```

## Journals

```{r, 'journal', fig.retina=2}
datj <- aggregate(bibtype ~ journal, data = bib, FUN = length)

dat %>% 
  group_by(., journal) %>% 
  summarize(., counts = n()) %>% 
  na.omit() %>% 
  mutate(., journal = fct_reorder(journal, counts)) %>% 
  ggplot(., aes(x = journal, y = counts, label = counts)) + 
    geom_bar(stat = "identity", color = 'black', 
             fill = 'lightblue', width = 0.1) + 
    geom_point(pch = 21, size = 10, color = 'black', fill = 'lightgrey') + 
    geom_text() + 
    labs(y = "Count", x = "Journal") + 
    coord_flip() + 
    theme_test()
```

## Authors

```{r, 'authors', fig.height=8, fig.retina=2}
# Initialize list
authors <- list()

# For each element in list, get last name of author and store in 
# 'authors' list
for (i in 1:length(bib)) {
  authors[[i]] <- bib[i]$author$family %>% unlist(.)
}

# Convert to tibble and plot
authors %>% 
  unlist(.) %>% 
  as.tibble(.) %>% 
  group_by(., value) %>% 
  summarize(., counts = n()) %>% 
  mutate(., value = fct_reorder(value, counts)) %>% 
  ggplot(., aes(x = value, y = counts, label = counts)) + 
    geom_bar(stat = "identity", color = 'black', 
             fill = 'lightblue', width = 0.1) + 
    geom_point(pch = 21, size = 10, color = 'black', fill = 'lightgrey') + 
    geom_text() + 
    labs(y = "Count", x = "Author") + 
    coord_flip() + 
    theme_test()
```

## Publication Years

```{r, 'year', fig.retina=2}
prod <- dat %>% 
  select(., year) %>% 
  na.omit(.) %>% 
  group_by(., year) %>% 
  summarize(., counts = n()) %>% 
  ungroup(.) %>% 
  mutate(., status = if_else(year <=2012, 'MA\nStudent', 
                             if_else(year <=2016, 'PhD\nStudent', 'Asst.\nProf')), 
            status = fct_relevel(status, 
                                 c('MA\nStudent', 'PhD\nStudent', 'Asst.\nProf')))

year_max <- max(prod$counts)

prod %>% 
  ggplot(., aes(x = year, y = counts, label = counts)) + 
    geom_bar(stat = "identity", color = 'black', 
             fill = 'lightblue', width = 0.1) + 
    geom_point(aes(shape = status, fill = status), size = 10, color = 'black') + 
    scale_shape_manual(name = '', values = 21:23) + 
    geom_text(color = 'white') + 
    scale_fill_brewer(name = '', palette = 'Set1') + 
    labs(y = "Count", x = "Year", 
         title = "Productivity as a function of year and status") + 
    expand_limits(y = c(0, year_max + 5))
```

```{r, 'cleanup'}
unlink("cache", recursive = TRUE)
unlink("figure", recursive = TRUE)
```


# Journals

## Already published

- Journal of Second Language Studies
- Second Language Research
- Phonetica
- Journal of the Acoustical Society of America
- Journal of Phonetics

## Submitted

- Language and Speech
- Bilingualism: Language and Cognition

## In prep

- International Journal of Bilingualism

## Wishlist

- Applied Psycholinguistics
- Studies in SLA
- Heritage Language Journal
- Frontiers in Psychology



